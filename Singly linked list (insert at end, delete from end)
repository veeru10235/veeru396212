#include <stdio.h>
#include <stdlib.h>

struct Node { int data; struct Node* next; };
struct Node* head = NULL;

void insertEnd(int x) {
    struct Node* new = (struct Node*)malloc(sizeof(struct Node));
    new->data = x; new->next = NULL;
    if (!head) head = new;
    else {
        struct Node* t = head;
        while (t->next) t = t->next;
        t->next = new;
    }
}

void deleteEnd() {
    if (!head) return;
    if (!head->next) { free(head); head = NULL; return; }
    struct Node* t = head;
    while (t->next->next) t = t->next;
    free(t->next); t->next = NULL;
}

void display() { for (struct Node* t = head; t; t = t->next) printf("%d ", t->data); printf("\n"); }

int main() {
    insertEnd(10); insertEnd(20); insertEnd(30);
    display();
    deleteEnd();
    display();
    return 0;
}
